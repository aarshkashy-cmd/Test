<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BOLTHEX | Engineering & Industrial Supplies</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #050505; color: white; font-family: sans-serif; }
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            padding: 20px;
        }
        .gallery-item {
            background: #111;
            border: 1px solid #222;
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.3s ease;
        }
        .gallery-item:hover { transform: translateY(-5px); border-color: #0ea5e9; }
        .gallery-item img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            display: block;
        }
        .glass-nav {
            background: rgba(10, 10, 10, 0.8);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 50;
            border-bottom: 1px solid #222;
        }
    </style>
</head>
<body>

    <nav class="glass-nav p-4">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-2xl font-bold tracking-tighter text-sky-500">BOLT<span class="text-white font-light">HEX</span></h1>
            <div class="space-x-6 text-sm uppercase tracking-widest">
                <a href="#gallery" class="hover:text-sky-400">Products</a>
                <a href="admin/index.html" class="bg-sky-600 px-4 py-2 rounded-md hover:bg-sky-700">Admin Login</a>
            </div>
        </div>
    </nav>

    <header class="py-20 text-center">
        <h2 class="text-5xl font-extrabold mb-4">Industrial Fasteners & Solutions</h2>
        <p class="text-gray-400 max-w-2xl mx-auto">High-quality engineering supplies delivered across Kerala. Precision-tested bolts, nuts, and industrial hardware.</p>
    </header>

    <section id="gallery" class="container mx-auto">
        <div class="flex items-center justify-between px-6 mb-8">
            <h3 class="text-xl font-semibold border-l-4 border-sky-500 pl-4">Product Showcase</h3>
            <span id="load-status" class="text-xs text-gray-500 uppercase tracking-widest">Syncing with GitHub...</span>
        </div>

        <div id="dynamic-gallery" class="gallery-grid">
            <div class="text-gray-600 animate-pulse">Loading hardware assets...</div>
        </div>
    </section>

    <footer class="border-t border-[#222] mt-20 py-10 text-center text-gray-500 text-sm">
        <p>&copy; 2026 BOLTHEX Engineering. Located at Arancherry Arcade, Kakkoor, Kerala.</p>
    </footer>

    <script>
        async function loadGallery() {
            const container = document.getElementById('dynamic-gallery');
            const status = document.getElementById('load-status');
            
            // Link to your specific GitHub repo folder
            const repoUrl = "https://api.github.com/repos/aarshkashy-cmd/Test/contents/photo";

            try {
                const response = await fetch(repoUrl);
                
                if (!response.ok) throw new Error("Folder not found");
                
                const files = await response.json();
                
                // Clear the loading message
                container.innerHTML = "";

                let count = 0;
                files.forEach(file => {
                    // Check if file is an image
                    if (file.name.match(/\.(jpg|jpeg|png|webp|gif)$/i)) {
                        count++;
                        const card = document.createElement('div');
                        card.className = "gallery-item";
                        card.innerHTML = `
                            <img src="${file.download_url}" alt="Bolthex Hardware" onerror="this.src='https://via.placeholder.com/300?text=Image+Error'">
                            <div class="p-4 text-xs text-gray-500 flex justify-between">
                                <span>${file.name.split('.')[0].replace(/_/g, ' ')}</span>
                                <span class="text-sky-500 font-bold">In Stock</span>
                            </div>
                        `;
                        container.appendChild(card);
                    }
                });

                status.innerText = `${count} Products Online`;

                if (count === 0) {
                    container.innerHTML = "<p class='text-center col-span-full py-10 text-gray-600'>No photos found in /photo folder.</p>";
                }

            } catch (err) {
                console.error("Gallery Error:", err);
                status.innerText = "Connection Error";
                container.innerHTML = "<p class='text-center col-span-full text-red-800'>Failed to connect to GitHub Media API.</p>";
            }
        }

        // Initialize gallery on load
        window.onload = loadGallery;
    </script>

</body>
</html>
